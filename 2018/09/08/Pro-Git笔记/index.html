<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Pro-Git笔记"><meta name="keywords" content="Git"><meta name="author" content="entercoder1993"><meta name="copyright" content="entercoder1993"><title>Pro-Git笔记 | EnterCoder's Blog</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Pro-Git学习笔记"><span class="toc-number">1.</span> <span class="toc-text">Pro Git学习笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#目录"><span class="toc-number">1.1.</span> <span class="toc-text">目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git简介"><span class="toc-number">1.2.</span> <span class="toc-text">Git简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装Git"><span class="toc-number">1.3.</span> <span class="toc-text">安装Git</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#初次运行Git前的配置"><span class="toc-number">1.4.</span> <span class="toc-text">初次运行Git前的配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#三个配置变量"><span class="toc-number">1.4.1.</span> <span class="toc-text">三个配置变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用户信息和文本编辑器"><span class="toc-number">1.4.2.</span> <span class="toc-text">用户信息和文本编辑器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#获取帮助"><span class="toc-number">1.4.3.</span> <span class="toc-text">获取帮助</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git基础"><span class="toc-number">1.5.</span> <span class="toc-text">Git基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#获取Git仓库"><span class="toc-number">1.5.1.</span> <span class="toc-text">获取Git仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#记录每次更新到仓库"><span class="toc-number">1.5.2.</span> <span class="toc-text">记录每次更新到仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看提交历史"><span class="toc-number">1.5.3.</span> <span class="toc-text">查看提交历史</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#撤销操作"><span class="toc-number">1.5.4.</span> <span class="toc-text">撤销操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#远程仓库的使用"><span class="toc-number">1.5.5.</span> <span class="toc-text">远程仓库的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#打标签"><span class="toc-number">1.5.6.</span> <span class="toc-text">打标签</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git分支"><span class="toc-number">1.6.</span> <span class="toc-text">Git分支</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#分支简介"><span class="toc-number">1.6.1.</span> <span class="toc-text">分支简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分支的新建与合并"><span class="toc-number">1.6.2.</span> <span class="toc-text">分支的新建与合并</span></a></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://entercodeimage.oss-cn-shenzhen.aliyuncs.com/20200510135939.png"></div><div class="author-info__name text-center">entercoder1993</div><div class="author-info__description text-center">just coding</div><div class="follow-button"><a href="https://github.com/entercoder1993">Follow me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">36</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">19</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">11</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" href="https://molunerfinn.com">Molunerfinn</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://s2.ax1x.com/2019/09/16/nW7S7n.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">EnterCoder's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/about">About</a><a class="site-page" href="/image">Photo album</a><a class="site-page" href="/gallery">Gallery</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title">Pro-Git笔记</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-09-08</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Note/">Note</a><div class="post-meta-wordcount"><span>Word count: </span><span class="word-count">3,607</span><span class="post-meta__separator">|</span><span>Reading time: 13 min</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="Pro-Git学习笔记"><a href="#Pro-Git学习笔记" class="headerlink" title="Pro Git学习笔记"></a>Pro Git学习笔记</h1><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li><a href="#Git简介">Git简介</a></li>
<li><a href="#安装Git">安装Git</a></li>
<li><a href="#初次运行Git前的配置">初次运行Git前的配置</a></li>
<li><a href="#Git基础">Git基础</a></li>
<li><a href="#Git分支">Git分支</a></li>
</ul>
<h2 id="Git简介"><a href="#Git简介" class="headerlink" title="Git简介"></a>Git简介</h2><ol>
<li>直接记录快照，而非差异比较</li>
<li>近乎所有操作都是本地执行</li>
<li>Git保证完整性</li>
<li>Git一般只添加数据</li>
<li>三种状态<ul>
<li><strong>以提交</strong> – 已提交表示数据已经安全的保存在本地数据库中</li>
</ul>
<ol start="2">
<li><strong>已修改</strong> – 修改了文件，但还没保存到数据库中</li>
<li><strong>已暂存</strong> – 对一个已修改的文件的当前版本做了标记，使之包含在下次提交的快照中。</li>
</ol>
</li>
<li>工作区域<ul>
<li><strong>Git仓库</strong> – 用来保存项目的元数据和对象数据库的地方，从其他计算基金克隆仓库时，拷贝的就是这里的数据</li>
</ul>
<ol start="2">
<li><strong>工作目录</strong> – 对项目的某个版本独立提取出来的内容。这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘 上供你使用或修改。</li>
<li><strong>暂存区域</strong> – 暂存区域是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中。 有时候也被称作`‘索 引’’，不过一般说法还是叫暂存区域。<img src="https://ws1.sinaimg.cn/large/0079wTXjgy1fsmpcjuov0j30jz0b1taa" alt></li>
</ol>
</li>
</ol>
<h2 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h2><ul>
<li>Linux上安装</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sudo</span> yum install git</span><br><span class="line">    </span><br><span class="line"><span class="variable">$sudo</span> apt-get install git</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Mac上安装<br>安装Xcode Command Line Tools</p>
</li>
<li><p>Windows上安装<br><a href="git-scm.com/download/win">Git官网</a></p>
</li>
<li><p>源代码安装<br>从源码安装Git，需要安装Git以来的库：curl、zlib、openssl、expat和libiconv</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sudo</span> yum install curl-devel expat-devel gettext-devel \ openssl-devel zlib-devel </span><br><span class="line"><span class="variable">$sudo</span> apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \ libz-dev libssl-dev</span><br></pre></td></tr></table></figure>
<p>为了能够添加更多格式的文档（如 doc, html, info），你需要安装以下的依赖包：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sudo</span> yum install asciidoc xmlto docbook2x </span><br><span class="line"><span class="variable">$sudo</span> apt-get install asciidoc xmlto docbook2x</span><br></pre></td></tr></table></figure>
<p><a href="https://www.kernel.org/pub/software/scm/git" target="_blank" rel="noopener">下载Git的tar包</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$tar</span> -zxf git-2.0.0.tar.gz </span><br><span class="line"><span class="variable">$cd</span> git-2.0.0 $ make configure $ ./configure --prefix=/usr </span><br><span class="line"><span class="variable">$make</span> all doc info </span><br><span class="line"><span class="variable">$sudo</span> make install install-doc install-html install-info</span><br></pre></td></tr></table></figure>
<p>使用Git来获取Git的升级</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> <span class="built_in">clone</span> git://git.kernel.org/pub/scm/git/git.git</span><br></pre></td></tr></table></figure>
<h2 id="初次运行Git前的配置"><a href="#初次运行Git前的配置" class="headerlink" title="初次运行Git前的配置"></a>初次运行Git前的配置</h2><h3 id="三个配置变量"><a href="#三个配置变量" class="headerlink" title="三个配置变量"></a>三个配置变量</h3><p>每一个级别覆盖上一级别的配置</p>
<ol>
<li><code>/etc/gitconfig</code> 文件: 包含系统上每一个用户及他们仓库的通用配置。 如果使用带有 –system 选项的 git config 时，它会从此文件读写配置变量。</li>
<li><code>~/.gitconfig</code> 或 ~/.config/git/config 文件：只针对当前用户。 可以传递 –global 选项让 Git 读写此文件。</li>
<li><code>.git/config</code> 当前使用仓库的 Git 目录中的 config 文件（就是 .git/config）：针对该仓库。</li>
</ol>
<blockquote>
<p>在Windows 系统中，Git 会查找 $HOME 目录下（一般情况下是 C:\Users\$USER）的 .gitconfig 文件。 Git 同样也会寻找 /etc/gitconfig 文件，但只限于 MSys 的根目录下，即安装 Git 时所选的目标位置。</p>
</blockquote>
<h3 id="用户信息和文本编辑器"><a href="#用户信息和文本编辑器" class="headerlink" title="用户信息和文本编辑器"></a>用户信息和文本编辑器</h3><p>设置用户名称和邮件地址，因为每一个Git的提交都会使用这些信息，并且会写入到你的每一次提交中，不可更改：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> config --gloabl user.name <span class="string">"username"</span></span><br><span class="line"><span class="variable">$git</span> config --global user.email <span class="string">"user email"</span></span><br><span class="line"><span class="variable">$git</span> config --global core.editor emacs</span><br><span class="line">//default vim</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果使用了 –global 选项，那么该命令只需要运行一次，因为之后无论你在该系统上做任何事 情， Git 都会使用那些信息。<br>当你想针对特定项目使用不同的用户名称与邮件地址时，可以在那个项目目录下运 行没有 –global 选项的命令来配置。</p>
</blockquote>
<p>检查配置信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> config --list</span><br><span class="line">//check someone</span><br><span class="line"><span class="variable">$git</span> config &lt;key&gt;</span><br></pre></td></tr></table></figure>
<h3 id="获取帮助"><a href="#获取帮助" class="headerlink" title="获取帮助"></a>获取帮助</h3><p>Git命令使用手册</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> <span class="built_in">help</span> &lt;verb&gt;</span><br><span class="line"><span class="variable">$git</span>  &lt;verb&gt; --<span class="built_in">help</span></span><br><span class="line"><span class="variable">$man</span> git-&lt;verb&gt;</span><br></pre></td></tr></table></figure>
<p>config命令手册</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> <span class="built_in">help</span> config</span><br></pre></td></tr></table></figure>
<h2 id="Git基础"><a href="#Git基础" class="headerlink" title="Git基础"></a>Git基础</h2><h3 id="获取Git仓库"><a href="#获取Git仓库" class="headerlink" title="获取Git仓库"></a>获取Git仓库</h3><ol>
<li><p>在现有项目或目录下导入所有文件到Git中</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> init</span><br></pre></td></tr></table></figure>
<p> 使用该命令后将创建一个.git的子目录，子目录中含有初始化Git仓库中所有的必须文件，这些文件是Git仓库的骨干。</p>
<p> .git文件夹中包含的文件信息：</p>
<p> 初始化仓库以后，使用<code>git add .</code>跟踪文件。可以通过<code>git add &lt;file&gt;</code>实现对指定文件的跟踪，然后执行<code>git commit</code>提交。</p>
</li>
<li><p>从服务器克隆一个现有的Git仓库</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> <span class="built_in">clone</span> [git-url]</span><br></pre></td></tr></table></figure>
<p> git支持多种数据传输协议</p>
<ul>
<li><code>https://</code>协议</li>
<li><code>git://</code>协议</li>
<li><code>SSH</code>协议 <code>user@server:path/to/repo.git</code></li>
</ul>
</li>
</ol>
<h3 id="记录每次更新到仓库"><a href="#记录每次更新到仓库" class="headerlink" title="记录每次更新到仓库"></a>记录每次更新到仓库</h3><p><img src="https://ws1.sinaimg.cn/large/0079wTXjgy1fsns4c405fj30n509rwfp" alt="state"></p>
<p>工作目录下的每个文件都只有两种状态：已跟踪或未跟踪。</p>
<ul>
<li><p>已跟踪的文件是指那些被纳入了版本控制的文件</p>
</li>
<li><p>工作目录中除了已跟踪的文件以外的所有其他文件都属于未跟踪文件</p>
</li>
</ul>
<p>状态：</p>
<ol>
<li>新建文件<code>README</code>(未跟踪状态)</li>
<li><code>git add README</code>跟踪README文件(暂存状态)</li>
<li>修改已跟踪文件<code>CONTRIBUTING.md</code>(修改状态，但还未添加到暂存区，要暂存文件更新，使用<code>git add CONTRIBUTING.md</code>暂存文件更新)</li>
</ol>
<ul>
<li><p>检查当前文件状态</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> status</span><br></pre></td></tr></table></figure>
</li>
<li><p>跟踪新文件</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> add [file]</span><br></pre></td></tr></table></figure>
</li>
<li><p>暂存已修改文件</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> add [file]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>状态简览</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> status -s/--short</span><br></pre></td></tr></table></figure>
<p>  使用<code>git status -s</code>显示简短的状态信息</p>
<ul>
<li>新添加的未跟踪文件前面为<code>??</code>标记</li>
<li>新添加到暂存文件前面有<code>A</code>标记</li>
<li>修改过的文件前面为<code>M</code>标记</li>
</ul>
</li>
<li><p>忽略文件</p>
<p>  创建一个名为<code>.gitignore</code>的文件，列出药忽略的文件模式。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cat</span> .gitignore </span><br><span class="line"><span class="comment"># 忽略所有以.o或.a结尾的文件</span></span><br><span class="line">*.[oa] </span><br><span class="line"><span class="comment"># 忽略所有以~结尾的文件</span></span><br><span class="line">*~</span><br></pre></td></tr></table></figure>
</li>
</ul>
<pre><code>`.gitignore`的格式规范如下：
* 所有空行或者以 `＃` 开头的行都会被 Git 忽略。
* 可以使用标准的 `glob` 模式匹配。
* 匹配模式可以以（`/`）开头防止递归。
* 匹配模式可以以（`/`）结尾指定目录。
* 要忽略指定模式以外的文件或目录，可以在模式前加上惊叹号（`!`）取反。

glob模式是指shell所使用的简化了的正则表达式。

* 星号（\*）匹配零个或多个任意字符；

*  [abc]匹配任何一个列在方括号中的字符（这个例子要么匹配一个 a，要么匹配一个 b，要么匹配一个 c)；

* 问号（? ）只匹配一个任意字符；如果在方括号中使用短划线分隔两个字符，表示所有在这两个字符范围内的都可以匹配 （比如 [0-9] 表示匹配所有 0 到 9 的数字）。 

* 使用两个星号（\*) 表示匹配任意中间目录，比如\`a/**/z\` 可以匹 配 a/z, a/b/z 或 \`a/b/c/z\`等。

&gt; [.gitignore文件列表](https://github.com/github/gitignore)
</code></pre><ul>
<li><p>查看已暂存和未暂存的修改</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> diff</span><br><span class="line"><span class="comment"># 若要查看已暂存的将要添加到下次提交里的内容，可以使用git diff --cached(git diff --staged)命令。</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>使用<code>git diff</code>分析文件差异，也可以通过图形化的方式或其他格式输出，可以使用<code>git difftool</code>命令来用Araix，emerge或vimdiff等软件输出diff分析结果。</p>
</blockquote>
</li>
<li><p>提交更新</p>
<p>  运行提交命令<code>git commit</code>前，应先用<code>git status</code>查看文件是否都是暂存状态，若文件还不是暂存状态，要用<code>git add</code>将修改或新添加的文件添加到暂存区，否则提交的时候不会记录这些还没暂存起来的变化。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> commit -m <span class="string">"message"</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>提交记录的是暂存区域的快照。任何还未暂存的仍然保持已修改状态，可以在下次提交时纳入版本管理。每一次运行提交操作，都是对项目做一次快照。以后可以回到这个状态或进行比较。</p>
</blockquote>
</li>
<li><p>跳过使用暂存区域</p>
<p>  给<code>git commit</code>加上<code>-a</code>选项，Git就会自动把所有已经跟踪过的文件暂存起来一并提交，从而跳过<code>git add</code>步骤。</p>
</li>
<li><p>移除文件</p>
<p>  要从Git中移除某个文件，就必须要从已跟踪文件清单中移除(即从暂存区域移除)，然后提交。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> rm PROJECT.md</span><br></pre></td></tr></table></figure>
<p>  下次提交时，该文件就不再纳入版本管理中，如果要删除之前修改并且已经放到暂存区域的话，则必须使用强制删除选项<code>-f</code>。</p>
<p>  若想让文件保留在目录中，但不希望Git继续跟踪。可以添加<code>--cached</code>选项。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> rm --cached README</span><br></pre></td></tr></table></figure>
</li>
</ul>
<pre><code>也可以使用glob模式

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 该命令删除log目录下扩展名为.log的所有文件</span></span><br><span class="line"><span class="variable">$git</span> rm <span class="built_in">log</span>/\*.<span class="built_in">log</span></span><br></pre></td></tr></table></figure>
</code></pre><ul>
<li><p>移动文件</p>
<p>  使用<code>git mv</code>命令，也可以对文件进行重命名</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> mv file_from file_to</span><br></pre></td></tr></table></figure>
<p>  运行<code>git mv</code>相当于运行了下面三条命令，不过Git会意识到这是一次改名。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$mv</span> README.md README</span><br><span class="line"><span class="variable">$git</span> rm README.md</span><br><span class="line"><span class="variable">$git</span> add README</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="查看提交历史"><a href="#查看提交历史" class="headerlink" title="查看提交历史"></a>查看提交历史</h3><p>使用<code>git log</code>命令可以查看提交历史记录。默认会按提交时间列出所有更新，最近的更新在最上面。</p>
<p><code>-p</code>选项用来显示每次提交内容的差异。使用<code>-num</code>可以显示最近num次提交的记录。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> <span class="built_in">log</span> -p --<span class="built_in">stat</span> -2</span><br></pre></td></tr></table></figure>
<p>添加<code>-stat</code>选项可以返回每次提交的简略的统计信息。另一个常用的选项是<code>--pretty</code>(oneline，short，full，fuller)，这个选项可以指定使用不同于默认格式的方式展示提交历史。<code>format</code>可以定制要显示的记录格式。<code>--graph</code>可以形象地展示分支、合并历史。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> <span class="built_in">log</span> --pretty=format:<span class="string">"%h - %an, %ar : %s"</span> --graph</span><br><span class="line">586f3df - entercoder1993, 34 hours ago : update note of git</span><br><span class="line">0c17bed - entercoder1993, 6 days ago : update spider of python</span><br><span class="line">a0fe9fc - entercoder1993, 7 days ago : add data analysis of python</span><br></pre></td></tr></table></figure>
<p><code>format</code>常用选项</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwly1fvv7fct89zj30kt0d1dil.jpg" alt="format"></p>
<p><code>git log</code>的常用选项表格</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-p</td>
<td>按补丁格式显示每个更新之间的差异</td>
</tr>
<tr>
<td>–stat</td>
<td>显示每次更新的文件修改统计信息</td>
</tr>
<tr>
<td>–shortstat</td>
<td>只显示—stat中最后的行数修改添加移除统计</td>
</tr>
<tr>
<td>–name-only</td>
<td>仅在提交信息后显示已修改的文件清单</td>
</tr>
<tr>
<td>–abbrev-commit</td>
<td>仅显示SHA-1的前几个字符</td>
</tr>
<tr>
<td>–relative-date</td>
<td>使用较短的相对时间显示</td>
</tr>
<tr>
<td>–graph</td>
<td>显示ASCII图形表示的分支合并历史</td>
</tr>
<tr>
<td>–pretty</td>
<td>使用其他格式显示历史提交信息。可用的选项包括 oneline，short，full，fuller 和 format（后跟指定格式）。</td>
</tr>
<tr>
<td>–name-status</td>
<td>显示新增、修改、删除的文件清单</td>
</tr>
</tbody>
</table>
<h3 id="撤销操作"><a href="#撤销操作" class="headerlink" title="撤销操作"></a>撤销操作</h3><p>运行带有<code>--amend</code>选项的提交命令会将暂存区中的文件提交。如果上次提交以来未做任何修改，则修改的只是提交信息。</p>
<ul>
<li><p>取消暂存的文件</p>
<p>  使用<code>git reset HEAD &lt;file&gt;</code>可以用来取消暂存。</p>
</li>
<li><p>取消对文件的修改</p>
</li>
</ul>
<h3 id="远程仓库的使用"><a href="#远程仓库的使用" class="headerlink" title="远程仓库的使用"></a>远程仓库的使用</h3><blockquote>
<p>远程仓库是指托管在因特网或其他网络中的项目版本库。</p>
</blockquote>
<ul>
<li><p>常看远程仓库</p>
<p>  使用<code>git remote</code>命令可以查看已经配置的远程仓库服务器，使用<code>-v</code>选项会显示需要读写远程仓库使用的Git保存的简写与其对应的URL。</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> remote -v</span><br><span class="line">origin	https://github.com/entercoder1993/entercoder1993.github.io.git (fetch)</span><br><span class="line">origin	https://github.com/entercoder1993/entercoder1993.github.io.git (push)</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加远程仓库</p>
<p>  使用<code>git remote add &lt;shortname&gt; &lt;url&gt;</code>可以添加一个新的远程仓库。</p>
</li>
<li><p>从远程仓库抓取与拉取</p>
<p>  使用<code>git fetch &lt;remote-name&gt;</code>可以从远程仓库中获得数据。它会访问远程仓库，从中拉取所有你还没有的信息。<br>  如果使用<code>clone</code>克隆一个仓库，命令会自动添加为远程仓库并默认一“origin”为简写。<br>  <code>git fetch origin</code>会抓取(或上一次抓取)后新推送的所有工作。但需要手动将其合并到工作中。<br>  <code>git pull</code>会自动的抓取然后合并远程分支到当前分支。</p>
</li>
<li><p>推送到远程分支</p>
<p>  <code>git push &lt;remote-name&gt; &lt;branch-name&gt;</code>可以将项目推送到远程仓库服务器。只有当你有所克隆服务器的写入权限，并且之前没有人推送过时才可以使用此命令。若有其他人先推送了，则必须先将他们的工作拉取下来并将其合并进你的工作后才能推送。</p>
</li>
<li><p>查看远程仓库</p>
<p>  使用<code>git remote show &lt;remote-name&gt;</code>可以查看某一远程仓库的更多信息。</p>
</li>
</ul>
<h3 id="打标签"><a href="#打标签" class="headerlink" title="打标签"></a>打标签</h3><ul>
<li><p>列出标签 <code>git tag</code></p>
</li>
<li><p>创建标签</p>
</li>
</ul>
<p>标签类型：</p>
<ol>
<li>轻量标签</li>
<li>附注标签</li>
</ol>
<p>附注标签是可以被校验的，其中包含打标签者的名字、电子邮件、时间日期等。因此通常建议创建附注标签；但如果只是想用一个临时标签，或者不需要保存以上信息，可以使用轻量标签。</p>
<ul>
<li>附注标签</li>
</ul>
<p>在运行<code>tag</code>命令时指定<code>-a</code>选项极客创建一个附注标签</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> tag -a v1.4 -m <span class="string">'my version 1.4'</span></span><br></pre></td></tr></table></figure>
<p>运行<code>git show</code>命令可以看到标签信息与对应的提交信息。</p>
<ul>
<li>轻量标签</li>
</ul>
<p>轻量标签不需要使用<code>-a</code>、<code>-s</code>或、<code>-m</code>选项，只需提供标签名称即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> tag v1.4-lw</span><br></pre></td></tr></table></figure>
<ul>
<li>后期打标签</li>
</ul>
<p>想要在已提交的项目打标签时，只需要在命令的末尾指定提交的校验和(或部分校验和)即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> tag -a v1.2 9fceb02</span><br></pre></td></tr></table></figure>
<h2 id="Git分支"><a href="#Git分支" class="headerlink" title="Git分支"></a>Git分支</h2><h3 id="分支简介"><a href="#分支简介" class="headerlink" title="分支简介"></a>分支简介</h3><ul>
<li><p>创建分支</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> branch bran-name</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>切换分支</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> checkout bran-name</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>查看分叉历史</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> <span class="built_in">log</span></span><br><span class="line"><span class="variable">$git</span> <span class="built_in">log</span> --oneline --decorete --graph --all</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="分支的新建与合并"><a href="#分支的新建与合并" class="headerlink" title="分支的新建与合并"></a>分支的新建与合并</h3><p>工作流：</p>
<ol>
<li>开发某个网站</li>
<li>为实现某个需求，创建一个分支</li>
<li>在这个分支上展开工作</li>
</ol>
<p>有Bug需紧急处理：</p>
<ol>
<li>切换到你的线上分支</li>
<li>为紧急任务创建一个新的分支，并修复它</li>
<li>测试通过后，切换回线上分支，合并这个修补分支，最后将改动推动到线上分支</li>
<li>切换回最初工作的分支，继续工作</li>
</ol>
<ul>
<li><p>新建并切换分支</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> branch bran-name</span><br><span class="line"><span class="variable">$git</span> checkout bran-name</span><br><span class="line"><span class="comment"># 简写</span></span><br><span class="line"><span class="variable">$git</span> checkout -b bran-name</span><br></pre></td></tr></table></figure>
<blockquote>
<p>切换分支之前，保持干净的状态(提交还未被提交的修改)。也可以保存进度(stashing)和修补提交(commit amending)</p>
</blockquote>
</li>
<li><p>分支的合并</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> checkout master</span><br><span class="line">Switched to branch <span class="string">'master'</span></span><br><span class="line"><span class="variable">$git</span> merge bran-name</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>分支的删除</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$git</span> branch -d bran-name</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>遇到冲突时的分支合并</li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">entercoder1993</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://entercoder.com/2018/09/08/Pro-Git笔记/">http://entercoder.com/2018/09/08/Pro-Git笔记/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Git/">Git</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2018/09/09/Python面向对象编程/"><i class="fa fa-chevron-left">  </i><span>Python面向对象编程</span></a></div><div class="next-post pull-right"><a href="/2018/09/07/双系统Windows时间不同步问题/"><span>双系统Windows时间不同步问题</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://s2.ax1x.com/2019/09/16/nW7S7n.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2020 By entercoder1993</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">联系我 --> 微信:dzd1993</div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>